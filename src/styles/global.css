@tailwind base;
@tailwind components;
@tailwind utilities;
:root {
  --sl-content-width: 90ch;
  --slsg-graph-width: 250px;
  --slsg-graph-height: 250px;

  --slsg-graph-bg-color: var(--slsg-graph-minimized-bg-color);
  --slsg-graph-minimized-bg-color: var(--sl-color-bg);
  --slsg-graph-maximized-bg-color: var(--sl-color-bg-nav);
  --slsg-graph-outline-color: var(--sl-color-gray-6);

  --slsg-graph-action-color: var(--sl-color-white);
  --slsg-graph-action-color-hover: inherit;
  --slsg-graph-action-bg-color-hover: var(--sl-color-gray-5);

  --slsg-context-menu-border-color: var(--sl-color-gray-4);
  --slsg-context-menu-bg-color: var(--sl-color-gray-6);
  --slsg-context-menu-bg-color-hover: var(--sl-color-gray-5);

  --slsg-text-color: var(--sl-color-white);
  --slsg-text-color-accent: var(--sl-color-text-accent);
  --slsg-text-color-muted: var(--sl-color-white);

  --slsg-text-lg: var(--sl-text-lg);
  --slsg-text-md: var(--sl-text-base);
  --slsg-text-sm: var(--sl-text-sm);
  --slsg-text-xs: var(--sl-text-xs);
}

:root[data-theme="dark"] {
  --slsg-color-accent: var(--sl-color-accent-high);
  --slsg-color-muted: var(--sl-color-gray-5);

  --slsg-node-color: var(--sl-color-white);
  --slsg-node-color-adjacent: var(--sl-color-gray-2);
  --slsg-link-color: var(--sl-color-gray-4);

  --slsg-node-color-current: var(--sl-color-green-high);
  --slsg-node-color-visited: var(--sl-color-orange-high);
  --slsg-node-color-unresolved: var(--sl-color-red-high);
  --slsg-node-color-external: var(--sl-color-purple-high);
  --slsg-node-color-tag: #c3a6ff;

  --slsg-node-color-1: #ff7d82;
  --slsg-node-color-2: #ffb07a;
  --slsg-node-color-3: #ffd66f;
  --slsg-node-color-4: #dee169;
  --slsg-node-color-5: #a6e75c;
  --slsg-node-color-6: #76bf93;
  --slsg-node-color-7: #4e9cdf;
  --slsg-node-color-8: #6a86d1;
  --slsg-node-color-9: #a287ca;
}

:root[data-theme="light"] {
  --slsg-color-accent: var(--sl-color-accent);
  --slsg-color-muted: var(--sl-color-gray-5);

  --slsg-node-color: var(--sl-color-gray-4);
  --slsg-node-color-adjacent: var(--sl-color-gray-5);
  --slsg-link-color: var(--sl-color-gray-5);

  --slsg-node-color-current: var(--sl-color-green);
  --slsg-node-color-visited: var(--sl-color-orange);
  --slsg-node-color-unresolved: var(--sl-color-red);
  --slsg-node-color-external: var(--sl-color-purple);
  --slsg-node-color-tag: #a17bf8;

  --slsg-node-color-1: #ff595e;
  --slsg-node-color-2: #ff924c;
  --slsg-node-color-3: #ffca3a;
  --slsg-node-color-4: #c5ca30;
  --slsg-node-color-5: #8ac926;
  --slsg-node-color-6: #52a675;
  --slsg-node-color-7: #1982c4;
  --slsg-node-color-8: #4267ac;
  --slsg-node-color-9: #7d5ba6;
}
@layer base {
  main {
    @apply prose prose-neutral mx-auto w-full max-w-none font-normal dark:prose-invert md:prose-lg;
  }

  html {
    @apply dark:prose-invert dark:bg-neutral-800 dark:font-medium;
    @apply hover:prose-a:text-lime-700 dark:hover:prose-a:text-lime-300;
    @apply prose-blockquote:prose-base prose-blockquote:font-normal;
    @apply prose-code:font-normal prose-code:text-lime-700 dark:prose-code:text-lime-300;
  }

  h1 {
    margin-bottom: 0 !important;
  }

  .backlinks-panel {
    padding: 1rem var(--sl-sidebar-pad-x);

    h2 {
      color: var(--slsg-text-color);
      font-size: var(--slsg-text-lg);
      font-weight: 600;
      line-height: var(--sl-line-height-headings);
      margin-bottom: 0.5rem;
    }
  }
}

@layer components {
  img {
    @apply mx-auto my-0 block max-h-96 max-w-full rounded;
  }

  cite {
    @apply block w-full pt-4 text-right italic;
  }
  cite > a {
    @apply font-normal not-italic;
  }
  cite:before {
    content: "â€• ";
  }

  a.new {
    @apply underline decoration-dashed;
  }
  a.external {
    @apply underline decoration-double;
  }
  article > *:first-child {
    margin-top: 0;
    padding-top: 0;
  }

  .prose :where(code):not(:where([class~="not-prose"] *))::after,
  .prose :where(code):not(:where([class~="not-prose"] *))::before {
    content: "";
  }
  blockquote p:first-of-type::before,
  blockquote p:first-of-type::after {
    content: "";
  }
  mark {
    @apply rounded-sm bg-lime-300 px-1 py-[0.15rem];
  }
}
